angular.module('jakubniewczas')
  .directive('markdownedText', ['$timeout', function($timeout) {
    return {
      scope: {
        content: '='
      },
      templateUrl: '<%= ng_template_url("markdowned-text/") %>',
      link: function(scope, element, attrs) {
        element.ready(function() {
          $timeout(function() {
            angular.forEach(element.find('pre'), function(codeSnipet) {
              window.hljs.highlightBlock(codeSnipet);
            });
          }, 1000);
        });
      }
    }
  }])